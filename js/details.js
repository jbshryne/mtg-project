const symbolCatalog = [
  {
    object: "card_symbol",
    symbol: "{T}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/T.svg",
    loose_variant: null,
    english: "tap this permanent",
    transposable: false,
    represents_mana: false,
    appears_in_mana_costs: false,
    mana_value: 0,
    hybrid: false,
    phyrexian: false,
    cmc: 0,
    funny: false,
    colors: [],
    gatherer_alternates: ["ocT", "oT"],
  },
  {
    object: "card_symbol",
    symbol: "{Q}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/Q.svg",
    loose_variant: null,
    english: "untap this permanent",
    transposable: false,
    represents_mana: false,
    appears_in_mana_costs: false,
    mana_value: 0,
    hybrid: false,
    phyrexian: false,
    cmc: 0,
    funny: false,
    colors: [],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{E}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/E.svg",
    loose_variant: null,
    english: "an energy counter",
    transposable: false,
    represents_mana: false,
    appears_in_mana_costs: false,
    mana_value: 0,
    hybrid: false,
    phyrexian: false,
    cmc: 0,
    funny: false,
    colors: [],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{PW}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/PW.svg",
    loose_variant: null,
    english: "planeswalker",
    transposable: false,
    represents_mana: false,
    appears_in_mana_costs: false,
    mana_value: 0,
    hybrid: false,
    phyrexian: true,
    cmc: 0,
    funny: false,
    colors: [],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{CHAOS}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/CHAOS.svg",
    loose_variant: null,
    english: "chaos",
    transposable: false,
    represents_mana: false,
    appears_in_mana_costs: false,
    mana_value: 0,
    hybrid: false,
    phyrexian: false,
    cmc: 0,
    funny: false,
    colors: [],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{A}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/A.svg",
    loose_variant: null,
    english: "an acorn counter",
    transposable: false,
    represents_mana: false,
    appears_in_mana_costs: false,
    mana_value: 0,
    hybrid: false,
    phyrexian: false,
    cmc: 0,
    funny: true,
    colors: [],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{TK}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/TK.svg",
    loose_variant: null,
    english: "a ticket counter",
    transposable: false,
    represents_mana: false,
    appears_in_mana_costs: false,
    mana_value: 0,
    hybrid: false,
    phyrexian: false,
    cmc: 0,
    funny: false,
    colors: [],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{X}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/X.svg",
    loose_variant: "X",
    english: "X generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 0,
    hybrid: false,
    phyrexian: false,
    cmc: 0,
    funny: false,
    colors: [],
    gatherer_alternates: ["oX", "ooX"],
  },
  {
    object: "card_symbol",
    symbol: "{Y}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/Y.svg",
    loose_variant: "Y",
    english: "Y generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 0,
    hybrid: false,
    phyrexian: false,
    cmc: 0,
    funny: true,
    colors: [],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{Z}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/Z.svg",
    loose_variant: "Z",
    english: "Z generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 0,
    hybrid: false,
    phyrexian: false,
    cmc: 0,
    funny: true,
    colors: [],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{0}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/0.svg",
    loose_variant: "0",
    english: "zero mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 0,
    hybrid: false,
    phyrexian: false,
    cmc: 0,
    funny: false,
    colors: [],
    gatherer_alternates: ["o0"],
  },
  {
    object: "card_symbol",
    symbol: "{½}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/HALF.svg",
    loose_variant: "½",
    english: "one-half generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: false,
    mana_value: 0.5,
    hybrid: false,
    phyrexian: false,
    cmc: 0.5,
    funny: true,
    colors: [],
    gatherer_alternates: ["o½"],
  },
  {
    object: "card_symbol",
    symbol: "{1}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/1.svg",
    loose_variant: "1",
    english: "one generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: false,
    phyrexian: false,
    cmc: 1,
    funny: false,
    colors: [],
    gatherer_alternates: ["o1"],
  },
  {
    object: "card_symbol",
    symbol: "{2}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/2.svg",
    loose_variant: "2",
    english: "two generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 2,
    hybrid: false,
    phyrexian: false,
    cmc: 2,
    funny: false,
    colors: [],
    gatherer_alternates: ["o2"],
  },
  {
    object: "card_symbol",
    symbol: "{3}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/3.svg",
    loose_variant: "3",
    english: "three generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 3,
    hybrid: false,
    phyrexian: false,
    cmc: 3,
    funny: false,
    colors: [],
    gatherer_alternates: ["o3"],
  },
  {
    object: "card_symbol",
    symbol: "{4}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/4.svg",
    loose_variant: "4",
    english: "four generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 4,
    hybrid: false,
    phyrexian: false,
    cmc: 4,
    funny: false,
    colors: [],
    gatherer_alternates: ["o4"],
  },
  {
    object: "card_symbol",
    symbol: "{5}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/5.svg",
    loose_variant: "5",
    english: "five generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 5,
    hybrid: false,
    phyrexian: false,
    cmc: 5,
    funny: false,
    colors: [],
    gatherer_alternates: ["o5"],
  },
  {
    object: "card_symbol",
    symbol: "{6}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/6.svg",
    loose_variant: "6",
    english: "six generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 6,
    hybrid: false,
    phyrexian: false,
    cmc: 6,
    funny: false,
    colors: [],
    gatherer_alternates: ["o6"],
  },
  {
    object: "card_symbol",
    symbol: "{7}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/7.svg",
    loose_variant: "7",
    english: "seven generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 7,
    hybrid: false,
    phyrexian: false,
    cmc: 7,
    funny: false,
    colors: [],
    gatherer_alternates: ["o7"],
  },
  {
    object: "card_symbol",
    symbol: "{8}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/8.svg",
    loose_variant: "8",
    english: "eight generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 8,
    hybrid: false,
    phyrexian: false,
    cmc: 8,
    funny: false,
    colors: [],
    gatherer_alternates: ["o8"],
  },
  {
    object: "card_symbol",
    symbol: "{9}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/9.svg",
    loose_variant: "9",
    english: "nine generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 9,
    hybrid: false,
    phyrexian: false,
    cmc: 9,
    funny: false,
    colors: [],
    gatherer_alternates: ["o9"],
  },
  {
    object: "card_symbol",
    symbol: "{10}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/10.svg",
    loose_variant: "10",
    english: "ten generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 10,
    hybrid: false,
    phyrexian: false,
    cmc: 10,
    funny: false,
    colors: [],
    gatherer_alternates: ["o10"],
  },
  {
    object: "card_symbol",
    symbol: "{11}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/11.svg",
    loose_variant: "11",
    english: "eleven generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 11,
    hybrid: false,
    phyrexian: false,
    cmc: 11,
    funny: false,
    colors: [],
    gatherer_alternates: ["o11"],
  },
  {
    object: "card_symbol",
    symbol: "{12}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/12.svg",
    loose_variant: "12",
    english: "twelve generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 12,
    hybrid: false,
    phyrexian: false,
    cmc: 12,
    funny: false,
    colors: [],
    gatherer_alternates: ["o12"],
  },
  {
    object: "card_symbol",
    symbol: "{13}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/13.svg",
    loose_variant: "13",
    english: "thirteen generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 13,
    hybrid: false,
    phyrexian: false,
    cmc: 13,
    funny: false,
    colors: [],
    gatherer_alternates: ["o13"],
  },
  {
    object: "card_symbol",
    symbol: "{14}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/14.svg",
    loose_variant: "14",
    english: "fourteen generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 14,
    hybrid: false,
    phyrexian: false,
    cmc: 14,
    funny: false,
    colors: [],
    gatherer_alternates: ["o14"],
  },
  {
    object: "card_symbol",
    symbol: "{15}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/15.svg",
    loose_variant: "15",
    english: "fifteen generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 15,
    hybrid: false,
    phyrexian: false,
    cmc: 15,
    funny: false,
    colors: [],
    gatherer_alternates: ["o15"],
  },
  {
    object: "card_symbol",
    symbol: "{16}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/16.svg",
    loose_variant: "16",
    english: "sixteen generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 16,
    hybrid: false,
    phyrexian: false,
    cmc: 16,
    funny: false,
    colors: [],
    gatherer_alternates: ["o16"],
  },
  {
    object: "card_symbol",
    symbol: "{17}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/17.svg",
    loose_variant: "17",
    english: "seventeen generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: false,
    mana_value: 17,
    hybrid: false,
    phyrexian: false,
    cmc: 17,
    funny: false,
    colors: [],
    gatherer_alternates: ["o17"],
  },
  {
    object: "card_symbol",
    symbol: "{18}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/18.svg",
    loose_variant: "18",
    english: "eighteen generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: false,
    mana_value: 18,
    hybrid: false,
    phyrexian: false,
    cmc: 18,
    funny: false,
    colors: [],
    gatherer_alternates: ["o18"],
  },
  {
    object: "card_symbol",
    symbol: "{19}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/19.svg",
    loose_variant: "19",
    english: "nineteen generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: false,
    mana_value: 19,
    hybrid: false,
    phyrexian: false,
    cmc: 19,
    funny: false,
    colors: [],
    gatherer_alternates: ["o19"],
  },
  {
    object: "card_symbol",
    symbol: "{20}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/20.svg",
    loose_variant: "20",
    english: "twenty generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: false,
    mana_value: 20,
    hybrid: false,
    phyrexian: false,
    cmc: 20,
    funny: false,
    colors: [],
    gatherer_alternates: ["o20"],
  },
  {
    object: "card_symbol",
    symbol: "{100}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/100.svg",
    loose_variant: "100",
    english: "one hundred generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: false,
    mana_value: 100,
    hybrid: false,
    phyrexian: false,
    cmc: 100,
    funny: true,
    colors: [],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{1000000}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/1000000.svg",
    loose_variant: "1000000",
    english: "one million generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1000000,
    hybrid: false,
    phyrexian: false,
    cmc: 1000000,
    funny: true,
    colors: [],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{∞}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/INFINITY.svg",
    loose_variant: "∞",
    english: "infinite generic mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: false,
    mana_value: null,
    hybrid: false,
    phyrexian: false,
    cmc: null,
    funny: true,
    colors: [],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{W/U}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/WU.svg",
    loose_variant: null,
    english: "one white or blue mana",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: true,
    phyrexian: false,
    cmc: 1,
    funny: false,
    colors: ["W", "U"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{W/B}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/WB.svg",
    loose_variant: null,
    english: "one white or black mana",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: true,
    phyrexian: false,
    cmc: 1,
    funny: false,
    colors: ["W", "B"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{B/R}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/BR.svg",
    loose_variant: null,
    english: "one black or red mana",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: true,
    phyrexian: false,
    cmc: 1,
    funny: false,
    colors: ["B", "R"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{B/G}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/BG.svg",
    loose_variant: null,
    english: "one black or green mana",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: true,
    phyrexian: false,
    cmc: 1,
    funny: false,
    colors: ["B", "G"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{U/B}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/UB.svg",
    loose_variant: null,
    english: "one blue or black mana",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: true,
    phyrexian: false,
    cmc: 1,
    funny: false,
    colors: ["U", "B"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{U/R}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/UR.svg",
    loose_variant: null,
    english: "one blue or red mana",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: true,
    phyrexian: false,
    cmc: 1,
    funny: false,
    colors: ["U", "R"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{R/G}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/RG.svg",
    loose_variant: null,
    english: "one red or green mana",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: true,
    phyrexian: false,
    cmc: 1,
    funny: false,
    colors: ["R", "G"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{R/W}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/RW.svg",
    loose_variant: null,
    english: "one red or white mana",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: true,
    phyrexian: false,
    cmc: 1,
    funny: false,
    colors: ["W", "R"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{G/W}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/GW.svg",
    loose_variant: null,
    english: "one green or white mana",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: true,
    phyrexian: false,
    cmc: 1,
    funny: false,
    colors: ["W", "G"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{G/U}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/GU.svg",
    loose_variant: null,
    english: "one green or blue mana",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: true,
    phyrexian: false,
    cmc: 1,
    funny: false,
    colors: ["U", "G"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{B/G/P}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/BGP.svg",
    loose_variant: null,
    english: "one black mana, one green mana, or 2 life",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: false,
    mana_value: 1,
    hybrid: true,
    phyrexian: true,
    cmc: 1,
    funny: false,
    colors: ["B", "G"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{B/R/P}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/BRP.svg",
    loose_variant: null,
    english: "one black mana, one red mana, or 2 life",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: false,
    mana_value: 1,
    hybrid: true,
    phyrexian: true,
    cmc: 1,
    funny: false,
    colors: ["B", "R"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{G/U/P}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/GUP.svg",
    loose_variant: null,
    english: "one green mana, one blue mana, or 2 life",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: true,
    phyrexian: true,
    cmc: 1,
    funny: false,
    colors: ["U", "G"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{G/W/P}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/GWP.svg",
    loose_variant: null,
    english: "one green mana, one white mana, or 2 life",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: true,
    phyrexian: true,
    cmc: 1,
    funny: false,
    colors: ["W", "G"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{R/G/P}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/RGP.svg",
    loose_variant: null,
    english: "one red mana, one green mana, or 2 life",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: false,
    mana_value: 1,
    hybrid: true,
    phyrexian: true,
    cmc: 1,
    funny: false,
    colors: ["R", "G"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{R/W/P}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/RWP.svg",
    loose_variant: null,
    english: "one red mana, one white mana, or 2 life",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: false,
    mana_value: 1,
    hybrid: true,
    phyrexian: true,
    cmc: 1,
    funny: false,
    colors: ["W", "R"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{U/B/P}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/UBP.svg",
    loose_variant: null,
    english: "one blue mana, one black mana, or 2 life",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: false,
    mana_value: 1,
    hybrid: true,
    phyrexian: true,
    cmc: 1,
    funny: false,
    colors: ["U", "B"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{U/R/P}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/URP.svg",
    loose_variant: null,
    english: "one blue mana, one red mana, or 2 life",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: false,
    mana_value: 1,
    hybrid: true,
    phyrexian: true,
    cmc: 1,
    funny: false,
    colors: ["U", "R"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{W/B/P}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/WBP.svg",
    loose_variant: null,
    english: "one white mana, one black mana, or 2 life",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: false,
    mana_value: 1,
    hybrid: true,
    phyrexian: true,
    cmc: 1,
    funny: false,
    colors: ["W", "B"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{W/U/P}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/WUP.svg",
    loose_variant: null,
    english: "one white mana, one blue mana, or 2 life",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: false,
    mana_value: 1,
    hybrid: true,
    phyrexian: true,
    cmc: 1,
    funny: false,
    colors: ["W", "U"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{2/W}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/2W.svg",
    loose_variant: null,
    english: "two generic mana or one white mana",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 2,
    hybrid: true,
    phyrexian: false,
    cmc: 2,
    funny: false,
    colors: ["W"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{2/U}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/2U.svg",
    loose_variant: null,
    english: "two generic mana or one blue mana",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 2,
    hybrid: true,
    phyrexian: false,
    cmc: 2,
    funny: false,
    colors: ["U"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{2/B}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/2B.svg",
    loose_variant: null,
    english: "two generic mana or one black mana",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 2,
    hybrid: true,
    phyrexian: false,
    cmc: 2,
    funny: false,
    colors: ["B"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{2/R}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/2R.svg",
    loose_variant: null,
    english: "two generic mana or one red mana",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 2,
    hybrid: true,
    phyrexian: false,
    cmc: 2,
    funny: false,
    colors: ["R"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{2/G}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/2G.svg",
    loose_variant: null,
    english: "two generic mana or one green mana",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 2,
    hybrid: true,
    phyrexian: false,
    cmc: 2,
    funny: false,
    colors: ["G"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{P}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/P.svg",
    loose_variant: null,
    english: "one colored mana or two life",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: false,
    mana_value: 1,
    hybrid: false,
    phyrexian: true,
    cmc: 1,
    funny: false,
    colors: [],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{W/P}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/WP.svg",
    loose_variant: null,
    english: "one white mana or two life",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: false,
    phyrexian: true,
    cmc: 1,
    funny: false,
    colors: ["W"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{U/P}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/UP.svg",
    loose_variant: null,
    english: "one blue mana or two life",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: false,
    phyrexian: true,
    cmc: 1,
    funny: false,
    colors: ["U"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{B/P}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/BP.svg",
    loose_variant: null,
    english: "one black mana or two life",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: false,
    phyrexian: true,
    cmc: 1,
    funny: false,
    colors: ["B"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{R/P}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/RP.svg",
    loose_variant: null,
    english: "one red mana or two life",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: false,
    phyrexian: true,
    cmc: 1,
    funny: false,
    colors: ["R"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{G/P}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/GP.svg",
    loose_variant: null,
    english: "one green mana or two life",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: false,
    phyrexian: true,
    cmc: 1,
    funny: false,
    colors: ["G"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{HW}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/HW.svg",
    loose_variant: null,
    english: "one-half white mana",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 0.5,
    hybrid: false,
    phyrexian: false,
    cmc: 0.5,
    funny: true,
    colors: ["W"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{HR}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/HR.svg",
    loose_variant: null,
    english: "one-half red mana",
    transposable: true,
    represents_mana: true,
    appears_in_mana_costs: false,
    mana_value: 0.5,
    hybrid: false,
    phyrexian: false,
    cmc: 0.5,
    funny: true,
    colors: ["R"],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{W}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/W.svg",
    loose_variant: "W",
    english: "one white mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: false,
    phyrexian: false,
    cmc: 1,
    funny: false,
    colors: ["W"],
    gatherer_alternates: ["oW", "ooW"],
  },
  {
    object: "card_symbol",
    symbol: "{U}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/U.svg",
    loose_variant: "U",
    english: "one blue mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: false,
    phyrexian: false,
    cmc: 1,
    funny: false,
    colors: ["U"],
    gatherer_alternates: ["oU", "ooU"],
  },
  {
    object: "card_symbol",
    symbol: "{B}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/B.svg",
    loose_variant: "B",
    english: "one black mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: false,
    phyrexian: false,
    cmc: 1,
    funny: false,
    colors: ["B"],
    gatherer_alternates: ["oB", "ooB"],
  },
  {
    object: "card_symbol",
    symbol: "{R}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/R.svg",
    loose_variant: "R",
    english: "one red mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: false,
    phyrexian: false,
    cmc: 1,
    funny: false,
    colors: ["R"],
    gatherer_alternates: ["oR", "ooR"],
  },
  {
    object: "card_symbol",
    symbol: "{G}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/G.svg",
    loose_variant: "G",
    english: "one green mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: false,
    phyrexian: false,
    cmc: 1,
    funny: false,
    colors: ["G"],
    gatherer_alternates: ["oG", "ooG"],
  },
  {
    object: "card_symbol",
    symbol: "{C}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/C.svg",
    loose_variant: "C",
    english: "one colorless mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: false,
    phyrexian: false,
    cmc: 1,
    funny: false,
    colors: [],
    gatherer_alternates: null,
  },
  {
    object: "card_symbol",
    symbol: "{S}",
    svg_uri: "https://svgs.scryfall.io/card-symbols/S.svg",
    loose_variant: "S",
    english: "one snow mana",
    transposable: false,
    represents_mana: true,
    appears_in_mana_costs: true,
    mana_value: 1,
    hybrid: false,
    phyrexian: false,
    cmc: 1,
    funny: false,
    colors: [],
    gatherer_alternates: null,
  },
];

$(function () {
  // console.log(window.location.href);

  //// CONSTANTS & VARIABLES

  const searchParams = JSON.parse(localStorage.getItem("searchParams"));
  const card = JSON.parse(localStorage.getItem("cardDetails"));
  if (!card) window.location.href = "index.html";
  const cardGroup = JSON.parse(localStorage.getItem("cardGroup"));
  const cardGroupArray = [];

  console.log(card);

  ////// *** Starting to set up details text below card ***
  const $cardFaceEl = $(".detailImg");
  const $imgBox = $(".imgBox");
  const $linkBox = $(".linkBox");

  const $imgContainer = $("<div class='imgContainer'></div>");

  //// Checking if we are on a card details inspection, randomizer call, or group page
  let currentPage;
  if (window.location.href.search("details") !== -1) currentPage = "details";
  if (window.location.href.search("random") !== -1) currentPage = "random";
  if (window.location.href.search("group") !== -1) currentPage = "group";

  $("title").text(card.name + " - MTG Conclave");

  const $buttonDiv = $('<div class="buttonDiv"></div>');
  const $prevPageBtn = $('<button class="navBtn prevPage">Go Back</button>').on(
    "click",
    () => history.back()
  );

  if (currentPage === "details" || currentPage === "random") {
    $("#cardName").text(card.name);
    const $nextPageBtn = $('<button class="navBtn nextPage"></button>');

    if (card.image_uris) {
      $cardFaceEl.attr("src", card.image_uris.large);

      //// Double-faced cards get side-by-side images of each face
    } else if (card.card_faces) {
      console.log("doublefaced");
      $cardFaceEl.attr("src", card.card_faces[0].image_uris.large);
      $backFaceEl = $("<img class='detailImg'></img>");
      $backFaceEl.attr("src", card.card_faces[1].image_uris.large);
      $("#card-back .displayBox").append($imgContainer).append($backFaceEl);
    } else {
      $cardFaceEl.attr("alt", `${card.name}<br><br>IMAGE NOT AVAILABLE`);
    }

    $linkBox.append(
      `<section><a href="${card.scryfall_uri}">View this card on Scryfall</a></section>`,
      `<section><a href="http://tagger.scryfall.com/card/${card.set}/${card.collector_number}">View this card on Scryfall Tagger</a></section>`
    );

    const pluralForm = /s$/.test(card.name) ? card.name : card.name + "s";
    const $detailImg = $(".detailImg");

    if (
      // (card.type_line.search("Basic") !== -1 &&
      //   card.type_line.search("Land") !== -1) ||
      card.all_parts &&
      card.type_line.search("Token") === -1
    ) {
      console.log("all parts");
      console.log(card.all_parts);
      $detailImg.hover(
        function () {
          console.log("hover");
          $(this).attr("title", "View all related cards and tokens");
        },
        function () {
          $(this).attr("title", "");
        }
      );
      cardGroupArray.push(card);
      for (let i = 0; i < card.all_parts.length; i++) {
        setTimeout(function () {
          $.getJSON(card.all_parts[i].uri, function (cardObj) {
            if (cardObj.oracle_id !== card.oracle_id)
              cardGroupArray.push(cardObj);
          });
        }, i * 50);
      }
    }

    if (card.type_line.search("Basic") !== -1) {
      console.log("basic land");
      $detailImg.hover(
        function () {
          console.log("hover");
          $(this).attr(
            "title",
            "View all " + pluralForm + " from the same set"
          );
        },
        function () {
          $(this).attr("title", "");
        }
      );
      $.getJSON(
        `https://api.scryfall.com/cards/search?order=set&q=${card.name}+type%3Abasic+set%3A${card.set}+game%3Apaper&unique=art`,
        function (listObj) {
          listObj.data.forEach((card) => cardGroupArray.push(card));
        }
      );
    }

    // $detailImg.hover(function () {
    //   $(this).css("title", "View all " + pluralForm + " from the same set");
    // });

    if (cardGroupArray.length > 0) {
      $detailImg
        .off("click")
        .on("click", function () {
          localStorage.setItem("cardGroup", JSON.stringify(cardGroupArray));
          window.location.href = "group.html";
        })
        .css("cursor", "pointer");
    }

    //// Displaying card image(s)

    const cardFace = card.card_faces ? card.card_faces[0] : card;

    const generateCardInfo = (cardFace, divId = "card-front") => {
      const formattedOracleText = cardFace.oracle_text
        .replaceAll(`\n`, "<br/>")
        .replaceAll("(", "<em>(")
        .replaceAll(")", ")</em>");
      // console.log(formattedOracleText)

      function replaceSymbolsWithImages(oracleText) {
        const symbolRegex = /\{([^}]+)\}/g;

        const replacedText = oracleText.replace(
          symbolRegex,
          (match, symbol) => {
            const foundSymbol = symbolCatalog.find(
              (data) => data.symbol === `{${symbol}}`
            );
            if (foundSymbol) {
              return `<img src="${foundSymbol.svg_uri}" alt="${foundSymbol.english}" class="symbol-image">`;
            }
            return match; // If symbol not found, return the original text
          }
        );

        const replacedTextArray = replacedText
          .split("<br/>")
          .join('</p><p class="rules-text">');

        return '<p class="rules-text">' + replacedTextArray + "</p>";
      }

      const manaCostWithImages = replaceSymbolsWithImages(cardFace.mana_cost);
      const textWithImages = replaceSymbolsWithImages(formattedOracleText);

      $(`<h4 class="card-name">${cardFace.name}</h4>`).prependTo(
        `#${divId} .stat-box`
      );

      if (cardFace.mana_cost !== "") {
        const $manaValueRow = $(`#${divId} .mana-cost`);
        $(`<td class="stat-label">Mana Cost:</td>`).appendTo($manaValueRow);
        $(`<td class="stat-value">${manaCostWithImages}</td>`).appendTo(
          $manaValueRow
        );
      }

      if (cardFace.type_line !== "") {
        const $cardTypeRow = $(`#${divId} .type-line`);
        $(`<td class="stat-label">Card Type:</td>`).appendTo($cardTypeRow);
        $(`<td class="stat-value">${cardFace.type_line}</td>`).appendTo(
          $cardTypeRow
        );
      }

      if (cardFace.oracle_text !== "") {
        const $rulesTextRow = $(`#${divId} .oracle-text`);
        $(`<td class="stat-label">Rules Text:</td>`).appendTo($rulesTextRow);
        $(`<td class="stat-value">${textWithImages}</td>`).appendTo(
          $rulesTextRow
        );
      }

      if (cardFace.power && cardFace.toughness) {
        const $powerToughnessRow = $(`#${divId} .power-toughness`);
        $(`<td class="stat-label">Power / Toughness:</td>`).appendTo(
          $powerToughnessRow
        );
        $(
          `<td class="stat-value">${cardFace.power} / ${cardFace.toughness}</td>`
        ).appendTo($powerToughnessRow);
      }

      const setName = cardFace.set_name ? cardFace.set_name : card.set_name;
      const setCode = cardFace.set ? cardFace.set : card.set;

      if (cardFace.set_name !== "") {
        const $setNameRow = $(`#${divId} .set-name`);
        $(`<td class="stat-label">Set:</td>`).appendTo($setNameRow);
        $(
          `<td class="stat-value">${setName} (${setCode.toUpperCase()})</td>`
        ).appendTo($setNameRow);
      }
    };

    generateCardInfo(cardFace);

    if (card.card_faces) {
      const $backFaceInfoStructure = $(
        `<div class="displayBox stat-box">
              <table class="stat-table">
                  <tr class="mana-cost"></tr>
                  <tr class="type-line"></tr>
                  <tr class="oracle-text"></tr>
                  <tr class="power-toughness"></tr>
              </table>
          </div>`
      );

      $backFaceInfoStructure.appendTo($("#card-back"));

      generateCardInfo(card.card_faces[1], "card-back");
    }

    //// Creating buttons, and dynamically wiring
    //// "next" button depending on where we are

    //// if on "details", get a button to return to search page
    if (currentPage === "details") {
      $nextPageBtn
        .text("New Search")
        .on("click", () => (window.location.href = "index.html"));
    }
    //// if on "random", get a button to get another
    //// random pull using the user's entered parameters
    if (currentPage === "random") {
      $nextPageBtn.text("Re-Randomize!").on("click", () => {
        $.getJSON(searchParams.apiCallUrl, function (dataObj) {
          console.log("response successful");

          localStorage.setItem("cardDetails", JSON.stringify(dataObj));
          location.reload();
        }).fail(function (jqxhr, textStatus, error) {
          console.error("Error:", error);
        });
      });
    }
    $buttonDiv.append($prevPageBtn, $nextPageBtn);
    $buttonDiv.appendTo($("header"));
  }

  if (currentPage === "group") {
    if (card.type_line.search("Basic") !== -1) {
      const pluralForm = /s$/.test(card.name) ? card.name : card.name + "s";

      $("#cardName").text(pluralForm + " from " + card.set_name);
    } else {
      $("#cardName").text(card.name + " & related objects");
    }

    cardGroup.forEach((card) => {
      const $relatedCard = $("<img class='detailImg'></img>");
      $relatedCard.attr("src", card.image_uris.large);
      $imgBox.append($imgContainer).append($relatedCard);
    });
    $buttonDiv.append($prevPageBtn);
    $buttonDiv.appendTo($("header"));
  }
});
